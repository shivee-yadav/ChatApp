{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nvar _routeConfig = _interopRequireDefault(require(\"./config/routeConfig\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst express = require('express');\nrequire(\"dotenv\").config();\nconst http = require('http');\nconst cors = require('cors');\nconst mongoose = require('mongoose');\nconst socketIO = require('socket.io');\nconst bcrypt = require('bcrypt');\nconst jwt = require('jsonwebtoken');\nconst app = express();\nconst server = http.createServer(app);\nconst io = socketIO(server);\nconst authRoutes = require(\"./routes/authRoutes\");\nconst chatRoutes = require(\"./routes/chatRoutes\");\nconst passport = require('passport');\nconst PORT = process.env.PORT;\nmongoose.connect(process.env.DATABASE, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  family: 4\n}).then(() => console.log('Connected to MongoDB')).catch(error => console.error('MongoDB connection error:', error));\napp.use(cors());\napp.use(express.json());\n(0, _routeConfig.default)(passport);\napp.use(\"/auth\", authRoutes);\napp.use(\"/api/chat\", chatRoutes);\napp.get(\"/\", (req, res) => res.json({\n  message: \"SetUp Success!!!\"\n}));\nserver.listen(PORT, () => {\n  console.log(\"Server is running on port \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcm91dGVDb25maWciLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZXhwcmVzcyIsImNvbmZpZyIsImh0dHAiLCJjb3JzIiwibW9uZ29vc2UiLCJzb2NrZXRJTyIsImJjcnlwdCIsImp3dCIsImFwcCIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsImlvIiwiYXV0aFJvdXRlcyIsImNoYXRSb3V0ZXMiLCJwYXNzcG9ydCIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiY29ubmVjdCIsIkRBVEFCQVNFIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZmFtaWx5IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwidXNlIiwianNvbiIsInJvdXRlQ29uZmlnIiwiZ2V0IiwicmVxIiwicmVzIiwibWVzc2FnZSIsImxpc3RlbiIsImNvbmNhdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxzaGl2ZVxcQ2hhdEFwcFxcc2VydmVyXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xyXG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IHNvY2tldElPID0gcmVxdWlyZSgnc29ja2V0LmlvJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuY29uc3QgaW8gPSBzb2NrZXRJTyhzZXJ2ZXIpO1xyXG5cclxuY29uc3QgYXV0aFJvdXRlcyA9cmVxdWlyZShcIi4vcm91dGVzL2F1dGhSb3V0ZXNcIik7XHJcbmNvbnN0IGNoYXRSb3V0ZXMgPXJlcXVpcmUoXCIuL3JvdXRlcy9jaGF0Um91dGVzXCIpO1xyXG5pbXBvcnQgcm91dGVDb25maWcgZnJvbSAnLi9jb25maWcvcm91dGVDb25maWcnO1xyXG5jb25zdCBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCA7XHJcblxyXG5tb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52LkRBVEFCQVNFLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlICwgIGZhbWlseTogNH0pXHJcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJykpXHJcbiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcikpO1xyXG5cclxuYXBwLnVzZShjb3JzKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxucm91dGVDb25maWcocGFzc3BvcnQpO1xyXG5cclxuYXBwLnVzZShcIi9hdXRoXCIsYXV0aFJvdXRlcyk7XHJcbmFwcC51c2UoXCIvYXBpL2NoYXRcIixjaGF0Um91dGVzKTtcclxuXHJcbmFwcC5nZXQoXCIvXCIsIChyZXEscmVzKSA9PiByZXMuanNvbih7bWVzc2FnZTogXCJTZXRVcCBTdWNjZXNzISEhXCJ9KSk7XHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydCAke1BPUlR9YCk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBZUEsSUFBQUEsWUFBQSxH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","map":{"version":3,"names":["_routeConfig","_interopRequireDefault","require","obj","__esModule","default","express","config","http","cors","mongoose","socketIO","bcrypt","jwt","app","server","createServer","io","authRoutes","chatRoutes","passport","PORT","process","env","connect","DATABASE","useNewUrlParser","useUnifiedTopology","family","then","console","log","catch","error","use","json","routeConfig","get","req","res","message","listen","concat"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\","sources":["server.js"],"sourcesContent":["const express = require('express');\r\nrequire(\"dotenv\").config();\r\nconst http = require('http');\r\nconst cors = require('cors');\r\nconst mongoose = require('mongoose');\r\nconst socketIO = require('socket.io');\r\nconst bcrypt = require('bcrypt');\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst app = express();\r\nconst server = http.createServer(app);\r\nconst io = socketIO(server);\r\n\r\nconst authRoutes =require(\"./routes/authRoutes\");\r\nconst chatRoutes =require(\"./routes/chatRoutes\");\r\nimport routeConfig from './config/routeConfig';\r\nconst passport = require('passport');\r\n\r\nconst PORT = process.env.PORT ;\r\n\r\nmongoose.connect(process.env.DATABASE, { useNewUrlParser: true, useUnifiedTopology: true ,  family: 4})\r\n  .then(() => console.log('Connected to MongoDB'))\r\n  .catch(error => console.error('MongoDB connection error:', error));\r\n\r\napp.use(cors());\r\napp.use(express.json());\r\nrouteConfig(passport);\r\n\r\napp.use(\"/auth\",authRoutes);\r\napp.use(\"/api/chat\",chatRoutes);\r\n\r\napp.get(\"/\", (req,res) => res.json({message: \"SetUp Success!!!\"}));\r\n\r\nserver.listen(PORT, () => {\r\n  console.log(`Server is running on port ${PORT}`);\r\n});\r\n"],"mappings":";;AAeA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAf/C,MAAMG,OAAO,GAAGJ,OAAO,CAAC,SAAS,CAAC;AAClCA,OAAO,CAAC,QAAQ,CAAC,CAACK,MAAM,CAAC,CAAC;AAC1B,MAAMC,IAAI,GAAGN,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMO,IAAI,GAAGP,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMQ,QAAQ,GAAGR,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMS,QAAQ,GAAGT,OAAO,CAAC,WAAW,CAAC;AACrC,MAAMU,MAAM,GAAGV,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMW,GAAG,GAAGX,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAMY,GAAG,GAAGR,OAAO,CAAC,CAAC;AACrB,MAAMS,MAAM,GAAGP,IAAI,CAACQ,YAAY,CAACF,GAAG,CAAC;AACrC,MAAMG,EAAE,GAAGN,QAAQ,CAACI,MAAM,CAAC;AAE3B,MAAMG,UAAU,GAAEhB,OAAO,CAAC,qBAAqB,CAAC;AAChD,MAAMiB,UAAU,GAAEjB,OAAO,CAAC,qBAAqB,CAAC;AAEhD,MAAMkB,QAAQ,GAAGlB,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMmB,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI;AAE7BX,QAAQ,CAACc,OAAO,CAACF,OAAO,CAACC,GAAG,CAACE,QAAQ,EAAE;EAAEC,eAAe,EAAE,IAAI;EAAEC,kBAAkB,EAAE,IAAI;EAAIC,MAAM,EAAE;AAAC,CAAC,CAAC,CACpGC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAC/CC,KAAK,CAACC,KAAK,IAAIH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC,CAAC;AAEpEnB,GAAG,CAACoB,GAAG,CAACzB,IAAI,CAAC,CAAC,CAAC;AACfK,GAAG,CAACoB,GAAG,CAAC5B,OAAO,CAAC6B,IAAI,CAAC,CAAC,CAAC;AACvB,IAAAC,oBAAW,EAAChB,QAAQ,CAAC;AAErBN,GAAG,CAACoB,GAAG,CAAC,OAAO,EAAChB,UAAU,CAAC;AAC3BJ,GAAG,CAACoB,GAAG,CAAC,WAAW,EAACf,UAAU,CAAC;AAE/BL,GAAG,CAACuB,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAACC,GAAG,KAAKA,GAAG,CAACJ,IAAI,CAAC;EAACK,OAAO,EAAE;AAAkB,CAAC,CAAC,CAAC;AAElEzB,MAAM,CAAC0B,MAAM,CAACpB,IAAI,EAAE,MAAM;EACxBS,OAAO,CAACC,GAAG,8BAAAW,MAAA,CAA8BrB,IAAI,CAAE,CAAC;AAClD,CAAC,CAAC"}},"mtime":1691662023508},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\authRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst express = require('express');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst passport = require('passport');\nconst User = require('../models/User');\nconst router = express.Router();\n\n// Register a new user\nrouter.post('/register', async (req, res) => {\n  try {\n    const {\n      username,\n      password,\n      userRole\n    } = req.body;\n\n    // Check if the user already exists\n    const existingUser = await User.findOne({\n      username\n    });\n    if (existingUser) {\n      return res.status(400).json({\n        message: 'Username already exists'\n      });\n    }\n    const hashedPassword = await bcrypt.hash(password, 10);\n    const user = new User({\n      username,\n      password: hashedPassword,\n      userRole\n    });\n    await user.save();\n    res.status(201).json({\n      message: 'User registered successfully'\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Login\nrouter.post('/login', async (req, res) => {\n  try {\n    const {\n      username,\n      password,\n      userRole\n    } = req.body;\n    const user = await User.findOne({\n      username\n    });\n    if (!user) {\n      return res.status(401).json({\n        message: 'Invalid credentials'\n      });\n    }\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    const isUserRoleValid = await bcrypt.compare(userRole, user.userRole);\n    if (!isPasswordValid && !isUserRoleValid) {\n      return res.status(401).json({\n        message: 'Invalid credentials'\n      });\n    }\n    const token = jwt.sign({\n      userId: user._id,\n      userRole: user.userRole\n    }, 'ChatApp', {\n      expiresIn: '30d'\n    });\n    res.status(200).json({\n      token\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'An error occurred'\n    });\n  }\n});\nrouter.get('/', passport.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  try {\n    const keyword = req.query.search ? {\n      $or: [{\n        username: {\n          $regex: req.query.search,\n          $options: \"i\"\n        }\n      }]\n    } : {};\n    const users = await User.find(_objectSpread(_objectSpread({}, keyword), {}, {\n      _id: {\n        $ne: req.user._id\n      }\n    }));\n    res.send(users);\n  } catch (error) {\n    res.status(500).json({\n      message: 'An error occurred'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsInBhc3Nwb3J0IiwiVXNlciIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidXNlclJvbGUiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwidXNlciIsInNhdmUiLCJlcnJvciIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpc1VzZXJSb2xlVmFsaWQiLCJ0b2tlbiIsInNpZ24iLCJ1c2VySWQiLCJfaWQiLCJleHBpcmVzSW4iLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIiwia2V5d29yZCIsInF1ZXJ5Iiwic2VhcmNoIiwiJG9yIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJ1c2VycyIsImZpbmQiLCJfb2JqZWN0U3ByZWFkIiwiJG5lIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbImF1dGhSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0ICBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XHJcblxyXG5cclxuY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7IFxyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG4vLyBSZWdpc3RlciBhIG5ldyB1c2VyXHJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQsIHVzZXJSb2xlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWUgfSk7XHJcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VybmFtZSBhbHJlYWR5IGV4aXN0cycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHsgdXNlcm5hbWUsIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCwgdXNlclJvbGUgfSk7XHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjplcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBMb2dpblxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VyUm9sZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcbiAgICBjb25zdCBpc1VzZXJSb2xlVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZSh1c2VyUm9sZSwgdXNlci51c2VyUm9sZSk7XHJcbiAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCAmJiAhaXNVc2VyUm9sZVZhbGlkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VyLl9pZCwgdXNlclJvbGU6IHVzZXIudXNlclJvbGUgfSwgJ0NoYXRBcHAnLCB7IGV4cGlyZXNJbjogJzMwZCcgfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuIH0pO1xyXG5cclxuIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCcgfSk7XHJcbiAgfX0pO1xyXG5cclxuXHJcbnJvdXRlci5nZXQoJy8nLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwge3Nlc3Npb246IGZhbHNlfSkgLGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaFxyXG4gICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IHVzZXJuYW1lOiB7ICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaCwgJG9wdGlvbnM6IFwiaVwiIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgLi4ua2V5d29yZCxcclxuICAgICAgICAgICAgICAgIF9pZDogeyAkbmU6IHJlcS51c2VyLl9pZCB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXMuc2VuZCh1c2Vycyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnQW4gZXJyb3Igb2NjdXJyZWQnIH0pO1xyXG59fSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU9HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUdyQyxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUd0QyxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxRQUFRO01BQUVDLFFBQVE7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTs7SUFFakQ7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","map":{"version":3,"names":["express","require","bcrypt","jwt","passport","User","router","Router","post","req","res","username","password","userRole","body","existingUser","findOne","status","json","message","hashedPassword","hash","user","save","error","isPasswordValid","compare","isUserRoleValid","token","sign","userId","_id","expiresIn","get","authenticate","session","keyword","query","search","$or","$regex","$options","users","find","_objectSpread","$ne","send","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\routes\\","sources":["authRoutes.js"],"sourcesContent":["const express = require('express');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst  passport = require('passport');\r\n\r\n\r\nconst User = require('../models/User'); \r\n\r\n\r\nconst router = express.Router();\r\n\r\n// Register a new user\r\nrouter.post('/register', async (req, res) => {\r\n  try {\r\n    const { username, password, userRole } = req.body;\r\n\r\n    // Check if the user already exists\r\n    const existingUser = await User.findOne({ username });\r\n    if (existingUser) {\r\n      return res.status(400).json({ message: 'Username already exists' });\r\n    }\r\n\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n    const user = new User({ username, password: hashedPassword, userRole });\r\n    await user.save();\r\n\r\n    res.status(201).json({ message: 'User registered successfully' });\r\n  } catch (error) {\r\n    res.status(500).json({ error:error.message });\r\n  }\r\n});\r\n\r\n// Login\r\nrouter.post('/login', async (req, res) => {\r\n  try {\r\n    const { username, password, userRole } = req.body;\r\n\r\n    const user = await User.findOne({ username });\r\n    if (!user) {\r\n      return res.status(401).json({ message: 'Invalid credentials' });\r\n    }\r\n\r\n    const isPasswordValid = await bcrypt.compare(password, user.password);\r\n    const isUserRoleValid = await bcrypt.compare(userRole, user.userRole);\r\n    if (!isPasswordValid && !isUserRoleValid) {\r\n      return res.status(401).json({ message: 'Invalid credentials' });\r\n    }\r\n\r\n    const token = jwt.sign({ userId: user._id, userRole: user.userRole }, 'ChatApp', { expiresIn: '30d' });\r\n    res.status(200).json({ token });\r\n\r\n \r\n  } catch (error) {\r\n    res.status(500).json({ message: 'An error occurred' });\r\n  }});\r\n\r\n\r\nrouter.get('/', passport.authenticate(\"jwt\", {session: false}) ,async (req,res) => {\r\n    try {\r\n            const keyword = req.query.search\r\n              ? {\r\n                  $or: [\r\n                    { username: { $regex: req.query.search, $options: \"i\" } },\r\n                    \r\n                  ],\r\n                }\r\n              : {};\r\n          \r\n              const users = await User.find({\r\n                ...keyword,\r\n                _id: { $ne: req.user._id }\r\n              });\r\n                      res.send(users);\r\n          }\r\n     catch (error) {\r\n        res.status(500).json({ message: 'An error occurred' });\r\n}});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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"}},"mtime":1691667754248},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst userSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  userRole: {\n    type: String,\n    enum: ['Manufacturer', 'Transporter'],\n    required: true\n  }\n});\nconst User = mongoose.model('User', userSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJqd3QiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInVzZXJSb2xlIiwiZW51bSIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB1c2VybmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdXNlclJvbGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ01hbnVmYWN0dXJlcicsICdUcmFuc3BvcnRlciddLCByZXF1aXJlZDogdHJ1ZSB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFbkMsTUFBTUcsVUFBVSxHQUFHLElBQUlKLFFBQVEsQ0FBQ0ssTUFBTSxDQUFDO0VBQ3JDQyxRQUFRLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLE1BQU0sRUFBRTtFQUFLLENBQUM7RUFDeERDLFFBQVEsRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxQ0csUUFBUSxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBTTtJQUFFSyxJQUFJLEVBQUUsQ0FBQyxjQUFjLEVBQUUsYUFBYSxDQUFDO0lBQUVKLFFBQVEsRUFBRTtFQUFLO0FBQ2xGLENBQUMsQ0FBQztBQUlGLE1BQU1LLElBQUksR0FBR2QsUUFBUSxDQUFDZSxLQUFLLENBQUMsTUFBTSxFQUFFWCxVQUFVLENBQUM7QUFFL0NZLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxJQUFJIn0=","map":{"version":3,"names":["mongoose","require","bcrypt","jwt","userSchema","Schema","username","type","String","required","unique","password","userRole","enum","User","model","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\models\\","sources":["User.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  username: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true },\r\n  userRole: { type: String, enum: ['Manufacturer', 'Transporter'], required: true }\r\n});\r\n\r\n\r\n\r\nconst User = mongoose.model('User', userSchema);\r\n\r\nmodule.exports = User;"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAMG,UAAU,GAAG,IAAIJ,QAAQ,CAACK,MAAM,CAAC;EACrCC,QAAQ,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC;EACxDC,QAAQ,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CG,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEK,IAAI,EAAE,CAAC,cAAc,EAAE,aAAa,CAAC;IAAEJ,QAAQ,EAAE;EAAK;AAClF,CAAC,CAAC;AAIF,MAAMK,IAAI,GAAGd,QAAQ,CAACe,KAAK,CAAC,MAAM,EAAEX,UAAU,CAAC;AAE/CY,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1691665951425},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\chatRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nconst express = require(\"express\");\n\n//const { protect } = require(\"../middleware/authMiddleware\");\nconst Chat = require(\"../models/Chat\");\nconst router = express.Router();\nrouter.post(\"/\", async (req, res) => {\n  const {\n    userId\n  } = req.body;\n  if (!userId) {\n    console.log(\"UserId param not sent with request\");\n    return res.sendStatus(400);\n  }\n  var isChat = await Chat.find({\n    isGroupChat: false,\n    $and: [{\n      users: {\n        $elemMatch: {\n          $eq: req.user._id\n        }\n      }\n    }, {\n      users: {\n        $elemMatch: {\n          $eq: userId\n        }\n      }\n    }]\n  }).populate(\"users\", \"-password\").populate(\"latestMessage\");\n  isChat = await User.populate(isChat, {\n    path: \"latestMessage.sender\",\n    select: \"name\"\n  });\n  if (isChat.length > 0) {\n    res.send(isChat[0]);\n  } else {\n    var chatData = {\n      chatName: \"sender\",\n      isGroupChat: false,\n      users: [req.user._id, userId]\n    };\n    try {\n      const createdChat = await Chat.create(chatData);\n      const FullChat = await Chat.findOne({\n        _id: createdChat._id\n      }).populate(\"users\", \"-password\");\n      res.status(200).json(FullChat);\n    } catch (error) {\n      res.status(400);\n      throw new Error(error.message);\n    }\n  }\n});\nrouter.get(\"/\", async (req, res) => {\n  try {\n    Chat.find({\n      users: {\n        $elemMatch: {\n          $eq: req.user._id\n        }\n      }\n    }).populate(\"users\", \"-password\").populate(\"groupAdmin\", \"-password\").populate(\"latestMessage\").sort({\n      updatedAt: -1\n    }).then(async results => {\n      results = await User.populate(results, {\n        path: \"latestMessage.sender\",\n        select: \"name pic email\"\n      });\n      res.status(200).send(results);\n    });\n  } catch (error) {\n    res.status(400);\n    throw new Error(error.message);\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIkNoYXQiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwidXNlcklkIiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJzZW5kU3RhdHVzIiwiaXNDaGF0IiwiZmluZCIsImlzR3JvdXBDaGF0IiwiJGFuZCIsInVzZXJzIiwiJGVsZW1NYXRjaCIsIiRlcSIsInVzZXIiLCJfaWQiLCJwb3B1bGF0ZSIsIlVzZXIiLCJwYXRoIiwic2VsZWN0IiwibGVuZ3RoIiwic2VuZCIsImNoYXREYXRhIiwiY2hhdE5hbWUiLCJjcmVhdGVkQ2hhdCIsImNyZWF0ZSIsIkZ1bGxDaGF0IiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImdldCIsInNvcnQiLCJ1cGRhdGVkQXQiLCJ0aGVuIiwicmVzdWx0cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbImNoYXRSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5cclxuLy9jb25zdCB7IHByb3RlY3QgfSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCIpO1xyXG5jb25zdCBDaGF0ID0gcmVxdWlyZShcIi4uL21vZGVscy9DaGF0XCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL1wiICAsIGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBcclxuICAgICAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIFxyXG4gICAgICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJJZCBwYXJhbSBub3Qgc2VudCB3aXRoIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgIHZhciBpc0NoYXQgPSBhd2FpdCBDaGF0LmZpbmQoe1xyXG4gICAgICAgICAgaXNHcm91cENoYXQ6IGZhbHNlLFxyXG4gICAgICAgICAgJGFuZDogW1xyXG4gICAgICAgICAgICB7IHVzZXJzOiB7ICRlbGVtTWF0Y2g6IHsgJGVxOiByZXEudXNlci5faWQgfSB9IH0sXHJcbiAgICAgICAgICAgIHsgdXNlcnM6IHsgJGVsZW1NYXRjaDogeyAkZXE6IHVzZXJJZCB9IH0gfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5wb3B1bGF0ZShcInVzZXJzXCIsIFwiLXBhc3N3b3JkXCIpXHJcbiAgICAgICAgICAucG9wdWxhdGUoXCJsYXRlc3RNZXNzYWdlXCIpO1xyXG4gICAgICBcclxuICAgICAgICBpc0NoYXQgPSBhd2FpdCBVc2VyLnBvcHVsYXRlKGlzQ2hhdCwge1xyXG4gICAgICAgICAgcGF0aDogXCJsYXRlc3RNZXNzYWdlLnNlbmRlclwiLFxyXG4gICAgICAgICAgc2VsZWN0OiBcIm5hbWVcIixcclxuICAgICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgICAgaWYgKGlzQ2hhdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZXMuc2VuZChpc0NoYXRbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY2hhdERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNoYXROYW1lOiBcInNlbmRlclwiLFxyXG4gICAgICAgICAgICBpc0dyb3VwQ2hhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHVzZXJzOiBbcmVxLnVzZXIuX2lkLCB1c2VySWRdLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkQ2hhdCA9IGF3YWl0IENoYXQuY3JlYXRlKGNoYXREYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgRnVsbENoYXQgPSBhd2FpdCBDaGF0LmZpbmRPbmUoeyBfaWQ6IGNyZWF0ZWRDaGF0Ll9pZCB9KS5wb3B1bGF0ZShcclxuICAgICAgICAgICAgICBcInVzZXJzXCIsXHJcbiAgICAgICAgICAgICAgXCItcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihGdWxsQ2hhdCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcblxyXG5cclxucm91dGVyLmdldChcIi9cIiAgLCBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgQ2hhdC5maW5kKHsgdXNlcnM6IHsgJGVsZW1NYXRjaDogeyAkZXE6IHJlcS51c2VyLl9pZCB9IH0gfSlcclxuICAgICAgICAgIC5wb3B1bGF0ZShcInVzZXJzXCIsIFwiLXBhc3N3b3JkXCIpXHJcbiAgICAgICAgICAucG9wdWxhdGUoXCJncm91cEFkbWluXCIsIFwiLXBhc3N3b3JkXCIpXHJcbiAgICAgICAgICAucG9wdWxhdGUoXCJsYXRlc3RNZXNzYWdlXCIpXHJcbiAgICAgICAgICAuc29ydCh7IHVwZGF0ZWRBdDogLTEgfSlcclxuICAgICAgICAgIC50aGVuKGFzeW5jIChyZXN1bHRzKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMgPSBhd2FpdCBVc2VyLnBvcHVsYXRlKHJlc3VsdHMsIHtcclxuICAgICAgICAgICAgICBwYXRoOiBcImxhdGVzdE1lc3NhZ2Uuc2VuZGVyXCIsXHJcbiAgICAgICAgICAgICAgc2VsZWN0OiBcIm5hbWUgcGljIGVtYWlsXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHRzKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQzs7QUFFbEM7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUV0QyxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBTSxDQUFDLENBQUM7QUFFL0JELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBSSxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUU5QixNQUFNO0lBQUVDO0VBQU8sQ0FBQyxHQUFHRixHQUFHLENBQUNHLElBQUk7RUFFM0IsSUFBSSxDQUFDRCxNQUFNLEVBQUU7SUFDWEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0NBQW9DLENBQUM7SUFDakQsT0FBT0osR0FBRyxDQUFDSyxVQUFVLENBQUMsR0FBRyxDQUFDO0VBQzVCO0VBRUEsSUFBSUMsTUFBTSxHQUFHLE1BQU1YLElBQUksQ0FBQ1ksSUFBSSxDQUFDO0lBQzNCQyxXQUFXLEVBQUUsS0FBSztJQUNsQkMsSUFBSSxFQUFFLENBQ0o7TUFBRUMsS0FBSyxFQUFFO1FBQUVDLFVBQVUsRUFBRTtVQUFFQyxHQUFHLEVBQUViLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDQztRQUFJO01BQUU7SUFBRSxDQUFDLEVBQ2hEO01BQUVKLEtBQUssRUFBRTtRQUFFQyxVQUFVLEVBQUU7VUFBRUMsR0FBRyxFQUFFWDtR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","map":{"version":3,"names":["express","require","Chat","router","Router","post","req","res","userId","body","console","log","sendStatus","isChat","find","isGroupChat","$and","users","$elemMatch","$eq","user","_id","populate","User","path","select","length","send","chatData","chatName","createdChat","create","FullChat","findOne","status","json","error","Error","message","get","sort","updatedAt","then","results","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\routes\\","sources":["chatRoutes.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\n//const { protect } = require(\"../middleware/authMiddleware\");\r\nconst Chat = require(\"../models/Chat\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/\"  , async(req, res) => {\r\n    \r\n        const { userId } = req.body;\r\n      \r\n        if (!userId) {\r\n          console.log(\"UserId param not sent with request\");\r\n          return res.sendStatus(400);\r\n        }\r\n      \r\n        var isChat = await Chat.find({\r\n          isGroupChat: false,\r\n          $and: [\r\n            { users: { $elemMatch: { $eq: req.user._id } } },\r\n            { users: { $elemMatch: { $eq: userId } } },\r\n          ],\r\n        })\r\n          .populate(\"users\", \"-password\")\r\n          .populate(\"latestMessage\");\r\n      \r\n        isChat = await User.populate(isChat, {\r\n          path: \"latestMessage.sender\",\r\n          select: \"name\",\r\n        });\r\n      \r\n        if (isChat.length > 0) {\r\n          res.send(isChat[0]);\r\n        } else {\r\n          var chatData = {\r\n            chatName: \"sender\",\r\n            isGroupChat: false,\r\n            users: [req.user._id, userId],\r\n          };\r\n      \r\n          try {\r\n            const createdChat = await Chat.create(chatData);\r\n            const FullChat = await Chat.findOne({ _id: createdChat._id }).populate(\r\n              \"users\",\r\n              \"-password\"\r\n            );\r\n            res.status(200).json(FullChat);\r\n          } catch (error) {\r\n            res.status(400);\r\n            throw new Error(error.message);\r\n          }\r\n        }\r\n      });\r\n    \r\n\r\n\r\nrouter.get(\"/\"  , async(req, res) => {\r\n\r\n    try {\r\n        Chat.find({ users: { $elemMatch: { $eq: req.user._id } } })\r\n          .populate(\"users\", \"-password\")\r\n          .populate(\"groupAdmin\", \"-password\")\r\n          .populate(\"latestMessage\")\r\n          .sort({ updatedAt: -1 })\r\n          .then(async (results) => {\r\n            results = await User.populate(results, {\r\n              path: \"latestMessage.sender\",\r\n              select: \"name pic email\",\r\n            });\r\n            res.status(200).send(results);\r\n          });\r\n      } catch (error) {\r\n        res.status(400);\r\n        throw new Error(error.message);\r\n      }\r\n    });\r\n\r\n\r\nmodule.exports = router;"],"mappings":"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"}},"mtime":1691619860347},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\Chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst chatModel = mongoose.Schema({\n  chatName: {\n    type: String,\n    trim: true\n  },\n  isGroupChat: {\n    type: Boolean,\n    default: false\n  },\n  users: [{\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  }],\n  latestMessage: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Messages\"\n  },\n  groupAdmin: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  }\n}, {\n  timestamps: true\n});\nconst Chat = mongoose.model(\"Chat\", chatModel);\nmodule.exports = Chat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjaGF0TW9kZWwiLCJTY2hlbWEiLCJjaGF0TmFtZSIsInR5cGUiLCJTdHJpbmciLCJ0cmltIiwiaXNHcm91cENoYXQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInVzZXJzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImxhdGVzdE1lc3NhZ2UiLCJncm91cEFkbWluIiwidGltZXN0YW1wcyIsIkNoYXQiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcblxyXG5jb25zdCBjaGF0TW9kZWwgPSBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgY2hhdE5hbWU6IHsgdHlwZTogU3RyaW5nLCB0cmltOiB0cnVlIH0sXHJcbiAgICBpc0dyb3VwQ2hhdDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgdXNlcnM6IFt7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlVzZXJcIiB9XSxcclxuICAgIGxhdGVzdE1lc3NhZ2U6IHtcclxuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6IFwiTWVzc2FnZXNcIixcclxuICAgIH0sXHJcbiAgICBncm91cEFkbWluOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlVzZXJcIiB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmNvbnN0IENoYXQgPSBtb25nb29zZS5tb2RlbChcIkNoYXRcIiwgY2hhdE1vZGVsKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ2hhdDsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLFNBQVMsR0FBR0YsUUFBUSxDQUFDRyxNQUFNLENBQy9CO0VBQ0VDLFFBQVEsRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsSUFBSSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsV0FBVyxFQUFFO0lBQUVILElBQUksRUFBRUksT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlDQyxLQUFLLEVBQUUsQ0FBQztJQUFFTixJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDUyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU8sQ0FBQyxDQUFDO0VBQzlEQyxhQUFhLEVBQUU7SUFDYlYsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDUCxDQUFDO0VBQ0RFLFVBQVUsRUFBRTtJQUFFWCxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDUyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU87QUFDbEUsQ0FBQyxFQUNEO0VBQUVHLFVBQVUsRUFBRTtBQUFLLENBQ3JCLENBQUM7QUFFRCxNQUFNQyxJQUFJLEdBQUdsQixRQUFRLENBQUNtQixLQUFLLENBQUMsTUFBTSxFQUFFakIsU0FBUyxDQUFDO0FBRTlDa0IsTUFBTSxDQUFDQyxPQUFPLEdBQUdILElBQUkifQ==","map":{"version":3,"names":["mongoose","require","chatModel","Schema","chatName","type","String","trim","isGroupChat","Boolean","default","users","Types","ObjectId","ref","latestMessage","groupAdmin","timestamps","Chat","model","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\models\\","sources":["Chat.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\r\n\r\nconst chatModel = mongoose.Schema(\r\n  {\r\n    chatName: { type: String, trim: true },\r\n    isGroupChat: { type: Boolean, default: false },\r\n    users: [{ type: mongoose.Schema.Types.ObjectId, ref: \"User\" }],\r\n    latestMessage: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: \"Messages\",\r\n    },\r\n    groupAdmin: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst Chat = mongoose.model(\"Chat\", chatModel);\r\n\r\nmodule.exports = Chat;"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,SAAS,GAAGF,QAAQ,CAACG,MAAM,CAC/B;EACEC,QAAQ,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC;EACtCC,WAAW,EAAE;IAAEH,IAAI,EAAEI,OAAO;IAAEC,OAAO,EAAE;EAAM,CAAC;EAC9CC,KAAK,EAAE,CAAC;IAAEN,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO,CAAC,CAAC;EAC9DC,aAAa,EAAE;IACbV,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACP,CAAC;EACDE,UAAU,EAAE;IAAEX,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO;AAClE,CAAC,EACD;EAAEG,UAAU,EAAE;AAAK,CACrB,CAAC;AAED,MAAMC,IAAI,GAAGlB,QAAQ,CAACmB,KAAK,CAAC,MAAM,EAAEjB,SAAS,CAAC;AAE9CkB,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1691616489164},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\config\\\\routeConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nconst JwtPassport = require(\"passport-jwt\");\nconst User = require(\"../models/User\");\nconst JwtStrategy = JwtPassport.Strategy;\nconst ExtractJwt = JwtPassport.ExtractJwt;\nconst options = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: \"ChatApp\"\n};\nvar _default = passport => {\n  passport.use(new JwtStrategy(options, async (jwt__payload, done) => {\n    try {\n      const doesUserExist = User.findById(jwt__payload.user);\n      if (!doesUserExist) return done(null, false);\n      return done(null, doesUserExist);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }));\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKd3RQYXNzcG9ydCIsInJlcXVpcmUiLCJVc2VyIiwiSnd0U3RyYXRlZ3kiLCJTdHJhdGVneSIsIkV4dHJhY3RKd3QiLCJvcHRpb25zIiwiand0RnJvbVJlcXVlc3QiLCJmcm9tQXV0aEhlYWRlckFzQmVhcmVyVG9rZW4iLCJzZWNyZXRPcktleSIsIl9kZWZhdWx0IiwicGFzc3BvcnQiLCJ1c2UiLCJqd3RfX3BheWxvYWQiLCJkb25lIiwiZG9lc1VzZXJFeGlzdCIsImZpbmRCeUlkIiwidXNlciIsImVycm9yIiwiRXJyb3IiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxzaGl2ZVxcQ2hhdEFwcFxcc2VydmVyXFxiYWNrZW5kXFxjb25maWdcXCIsInNvdXJjZXMiOlsicm91dGVDb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IEp3dFBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0LWp3dFwiKTtcclxuY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvVXNlclwiKTtcclxuXHJcblxyXG5jb25zdCBKd3RTdHJhdGVneSA9IEp3dFBhc3Nwb3J0LlN0cmF0ZWd5O1xyXG5jb25zdCBFeHRyYWN0Snd0ID0gSnd0UGFzc3BvcnQuRXh0cmFjdEp3dDtcclxuXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICBqd3RGcm9tUmVxdWVzdDogRXh0cmFjdEp3dC5mcm9tQXV0aEhlYWRlckFzQmVhcmVyVG9rZW4oKSxcclxuICAgIHNlY3JldE9yS2V5OiBcIkNoYXRBcHBcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHBhc3Nwb3J0KSA9PiB7XHJcbiAgICBwYXNzcG9ydC51c2UoXHJcblxyXG4gICAgICAgIG5ldyAgSnd0U3RyYXRlZ3kob3B0aW9ucywgYXN5bmMoand0X19wYXlsb2FkLCBkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvZXNVc2VyRXhpc3QgPSBVc2VyLmZpbmRCeUlkKGp3dF9fcGF5bG9hZC51c2VyKTtcclxuICAgICAgICAgICAgICAgIGlmICghZG9lc1VzZXJFeGlzdCkgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsICBkb2VzVXNlckV4aXN0KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyb3Ipe1xyXG5cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0EsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzNDLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBR3RDLE1BQU1FLFdBQVcsR0FBR0gsV0FBVyxDQUFDSSxRQUFRO0FBQ3hDLE1BQU1DLFVBQVUsR0FBR0wsV0FBVyxDQUFDSyxVQUFVO0FBRXpDLE1BQU1DLE9BQU8sR0FBRztFQUNaQyxjQUFjLEVBQUVGLFVBQVUsQ0FBQ0csMkJBQTJCLENBQUMsQ0FBQztFQUN4REMsV0FBVyxFQUFFO0FBQ2pCLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWNDLFFBQVEsSUFBSztFQUN6QkEsUUFBUSxDQUFDQyxHQUFHLENBRVIsSUFBS1QsV0FBVyxDQUFDRyxPQUFPLEVBQUUsT0FBTU8sWUFBWSxFQUFFQyxJQUFJLEtBQUs7SUFDbkQsSUFBRztNQUNDLE1BQU1DLGFBQWEsR0FBR2IsSUFBSSxDQUFDYyxRQUFRLENBQUNILFlBQVksQ0FBQ0ksSUFBSSxDQUFDO01BQ3RELElBQUksQ0FBQ0YsYUFBYSxFQUFFLE9BQU9ELElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO01BRTVDLE9BQU9BLElBQUksQ0FBQyxJQUFJLEVBQUdDLGFBQWEsQ0FBQztJQUVyQyxDQUFDLENBQUMsT0FBTUcsS0FBSyxFQUFDO01BRVYsTUFBTSxJQUFJQyxLQUFLLENBQUNELEtBQUssQ0FBQztJQUUxQjtFQUNKLENBQUMsQ0FDTCxDQUFDO0FBQ0wsQ0FBQztBQUFBRSxPQUFBLENBQUFDLE9BQUEsR0FBQVgsUUFBQSJ9","map":{"version":3,"names":["JwtPassport","require","User","JwtStrategy","Strategy","ExtractJwt","options","jwtFromRequest","fromAuthHeaderAsBearerToken","secretOrKey","_default","passport","use","jwt__payload","done","doesUserExist","findById","user","error","Error","exports","default"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\config\\","sources":["routeConfig.js"],"sourcesContent":["\r\nconst JwtPassport = require(\"passport-jwt\");\r\nconst User = require(\"../models/User\");\r\n\r\n\r\nconst JwtStrategy = JwtPassport.Strategy;\r\nconst ExtractJwt = JwtPassport.ExtractJwt;\r\n\r\nconst options = {\r\n    jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n    secretOrKey: \"ChatApp\"\r\n};\r\n\r\nexport default (passport) => {\r\n    passport.use(\r\n\r\n        new  JwtStrategy(options, async(jwt__payload, done) => {\r\n            try{\r\n                const doesUserExist = User.findById(jwt__payload.user);\r\n                if (!doesUserExist) return done(null, false);\r\n\r\n                return done(null,  doesUserExist);\r\n\r\n            } catch(error){\r\n\r\n                throw new Error(error);\r\n\r\n            }\r\n        })\r\n    );\r\n};"],"mappings":";;;;;;;AACA,MAAMA,WAAW,GAAGC,OAAO,CAAC,cAAc,CAAC;AAC3C,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAGtC,MAAME,WAAW,GAAGH,WAAW,CAACI,QAAQ;AACxC,MAAMC,UAAU,GAAGL,WAAW,CAACK,UAAU;AAEzC,MAAMC,OAAO,GAAG;EACZC,cAAc,EAAEF,UAAU,CAACG,2BAA2B,CAAC,CAAC;EACxDC,WAAW,EAAE;AACjB,CAAC;AAAC,IAAAC,QAAA,GAEcC,QAAQ,IAAK;EACzBA,QAAQ,CAACC,GAAG,CAER,IAAKT,WAAW,CAACG,OAAO,EAAE,OAAMO,YAAY,EAAEC,IAAI,KAAK;IACnD,IAAG;MACC,MAAMC,aAAa,GAAGb,IAAI,CAACc,QAAQ,CAACH,YAAY,CAACI,IAAI,CAAC;MACtD,IAAI,CAACF,aAAa,EAAE,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;MAE5C,OAAOA,IAAI,CAAC,IAAI,EAAGC,aAAa,CAAC;IAErC,CAAC,CAAC,OAAMG,KAAK,EAAC;MAEV,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;IAE1B;EACJ,CAAC,CACL,CAAC;AACL,CAAC;AAAAE,OAAA,CAAAC,OAAA,GAAAX,QAAA"}},"mtime":1691661324197},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\config\\\\routeConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nconst JwtPassport = require(\"passport-jwt\");\nconst User = require(\"../models/User\");\nconst JwtStrategy = JwtPassport.Strategy;\nconst ExtractJwt = JwtPassport.ExtractJwt;\nconst options = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: \"ChatApp\"\n};\nvar _default = passport => {\n  passport.use(new JwtStrategy(options, async (jwt__payload, done) => {\n    try {\n      const doesUserExist = User.findById(jwt__payload.user);\n      if (!doesUserExist) return done(null, false);\n      return done(null, doesUserExist);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }));\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKd3RQYXNzcG9ydCIsInJlcXVpcmUiLCJVc2VyIiwiSnd0U3RyYXRlZ3kiLCJTdHJhdGVneSIsIkV4dHJhY3RKd3QiLCJvcHRpb25zIiwiand0RnJvbVJlcXVlc3QiLCJmcm9tQXV0aEhlYWRlckFzQmVhcmVyVG9rZW4iLCJzZWNyZXRPcktleSIsIl9kZWZhdWx0IiwicGFzc3BvcnQiLCJ1c2UiLCJqd3RfX3BheWxvYWQiLCJkb25lIiwiZG9lc1VzZXJFeGlzdCIsImZpbmRCeUlkIiwidXNlciIsImVycm9yIiwiRXJyb3IiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxzaGl2ZVxcQ2hhdEFwcFxcc2VydmVyXFxiYWNrZW5kXFxjb25maWdcXCIsInNvdXJjZXMiOlsicm91dGVDb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IEp3dFBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0LWp3dFwiKTtcclxuY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvVXNlclwiKTtcclxuXHJcblxyXG5jb25zdCBKd3RTdHJhdGVneSA9IEp3dFBhc3Nwb3J0LlN0cmF0ZWd5O1xyXG5jb25zdCBFeHRyYWN0Snd0ID0gSnd0UGFzc3BvcnQuRXh0cmFjdEp3dDtcclxuXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICBqd3RGcm9tUmVxdWVzdDogRXh0cmFjdEp3dC5mcm9tQXV0aEhlYWRlckFzQmVhcmVyVG9rZW4oKSxcclxuICAgIHNlY3JldE9yS2V5OiBcIkNoYXRBcHBcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHBhc3Nwb3J0KSA9PiB7XHJcbiAgICBwYXNzcG9ydC51c2UoXHJcblxyXG4gICAgICAgIG5ldyAgSnd0U3RyYXRlZ3kob3B0aW9ucywgYXN5bmMoand0X19wYXlsb2FkLCBkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvZXNVc2VyRXhpc3QgPSAgVXNlci5maW5kQnlJZChqd3RfX3BheWxvYWQudXNlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvZXNVc2VyRXhpc3QpIHJldHVybiBkb25lKG51bGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCAgZG9lc1VzZXJFeGlzdCk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoKGVycm9yKXtcclxuXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUMzQyxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUd0QyxNQUFNRSxXQUFXLEdBQUdILFdBQVcsQ0FBQ0ksUUFBUTtBQUN4QyxNQUFNQyxVQUFVLEdBQUdMLFdBQVcsQ0FBQ0ssVUFBVTtBQUV6QyxNQUFNQyxPQUFPLEdBQUc7RUFDWkMsY0FBYyxFQUFFRixVQUFVLENBQUNHLDJCQUEyQixDQUFDLENBQUM7RUFDeERDLFdBQVcsRUFBRTtBQUNqQixDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVjQyxRQUFRLElBQUs7RUFDekJBLFFBQVEsQ0FBQ0MsR0FBRyxDQUVSLElBQUtULFdBQVcsQ0FBQ0csT0FBTyxFQUFFLE9BQU1PLFlBQVksRUFBRUMsSUFBSSxLQUFLO0lBQ25ELElBQUc7TUFDQyxNQUFNQyxhQUFhLEdBQUliLElBQUksQ0FBQ2MsUUFBUSxDQUFDSCxZQUFZLENBQUNJLElBQUksQ0FBQztNQUN2RCxJQUFJLENBQUNGLGFBQWEsRUFBRSxPQUFPRCxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztNQUU1QyxPQUFPQSxJQUFJLENBQUMsSUFBSSxFQUFHQyxhQUFhLENBQUM7SUFFckMsQ0FBQyxDQUFDLE9BQU1HLEtBQUssRUFBQztNQUVWLE1BQU0sSUFBSUMsS0FBSyxDQUFDRCxLQUFLLENBQUM7SUFFMUI7RUFDSixDQUFDLENBQ0wsQ0FBQztBQUNMLENBQUM7QUFBQUUsT0FBQSxDQUFBQyxPQUFBLEdBQUFYLFFBQUEifQ==","map":{"version":3,"names":["JwtPassport","require","User","JwtStrategy","Strategy","ExtractJwt","options","jwtFromRequest","fromAuthHeaderAsBearerToken","secretOrKey","_default","passport","use","jwt__payload","done","doesUserExist","findById","user","error","Error","exports","default"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\config\\","sources":["routeConfig.js"],"sourcesContent":["\r\nconst JwtPassport = require(\"passport-jwt\");\r\nconst User = require(\"../models/User\");\r\n\r\n\r\nconst JwtStrategy = JwtPassport.Strategy;\r\nconst ExtractJwt = JwtPassport.ExtractJwt;\r\n\r\nconst options = {\r\n    jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n    secretOrKey: \"ChatApp\"\r\n};\r\n\r\nexport default (passport) => {\r\n    passport.use(\r\n\r\n        new  JwtStrategy(options, async(jwt__payload, done) => {\r\n            try{\r\n                const doesUserExist =  User.findById(jwt__payload.user);\r\n                if (!doesUserExist) return done(null, false);\r\n\r\n                return done(null,  doesUserExist);\r\n\r\n            } catch(error){\r\n\r\n                throw new Error(error);\r\n\r\n            }\r\n        })\r\n    );\r\n};"],"mappings":";;;;;;;AACA,MAAMA,WAAW,GAAGC,OAAO,CAAC,cAAc,CAAC;AAC3C,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAGtC,MAAME,WAAW,GAAGH,WAAW,CAACI,QAAQ;AACxC,MAAMC,UAAU,GAAGL,WAAW,CAACK,UAAU;AAEzC,MAAMC,OAAO,GAAG;EACZC,cAAc,EAAEF,UAAU,CAACG,2BAA2B,CAAC,CAAC;EACxDC,WAAW,EAAE;AACjB,CAAC;AAAC,IAAAC,QAAA,GAEcC,QAAQ,IAAK;EACzBA,QAAQ,CAACC,GAAG,CAER,IAAKT,WAAW,CAACG,OAAO,EAAE,OAAMO,YAAY,EAAEC,IAAI,KAAK;IACnD,IAAG;MACC,MAAMC,aAAa,GAAIb,IAAI,CAACc,QAAQ,CAACH,YAAY,CAACI,IAAI,CAAC;MACvD,IAAI,CAACF,aAAa,EAAE,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;MAE5C,OAAOA,IAAI,CAAC,IAAI,EAAGC,aAAa,CAAC;IAErC,CAAC,CAAC,OAAMG,KAAK,EAAC;MAEV,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;IAE1B;EACJ,CAAC,CACL,CAAC;AACL,CAAC;AAAAE,OAAA,CAAAC,OAAA,GAAAX,QAAA"}},"mtime":1691668304114},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst userSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  userRole: {\n    type: String,\n    enum: ['Manufacturer', 'Transporter'],\n    required: true\n  }\n});\nconst User = mongoose.model('User', userSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJqd3QiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInVzZXJSb2xlIiwiZW51bSIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB1c2VybmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdXNlclJvbGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ01hbnVmYWN0dXJlcicsICdUcmFuc3BvcnRlciddLCByZXF1aXJlZDogdHJ1ZSB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFbkMsTUFBTUcsVUFBVSxHQUFHLElBQUlKLFFBQVEsQ0FBQ0ssTUFBTSxDQUFDO0VBQ3JDQyxRQUFRLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLE1BQU0sRUFBRTtFQUFLLENBQUM7RUFDeERDLFFBQVEsRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxQ0csUUFBUSxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBTTtJQUFFSyxJQUFJLEVBQUUsQ0FBQyxjQUFjLEVBQUUsYUFBYSxDQUFDO0lBQUVKLFFBQVEsRUFBRTtFQUFLO0FBQ2xGLENBQUMsQ0FBQztBQUlGLE1BQU1LLElBQUksR0FBR2QsUUFBUSxDQUFDZSxLQUFLLENBQUMsTUFBTSxFQUFFWCxVQUFVLENBQUM7QUFFL0NZLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxJQUFJIn0=","map":{"version":3,"names":["mongoose","require","bcrypt","jwt","userSchema","Schema","username","type","String","required","unique","password","userRole","enum","User","model","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\models\\","sources":["User.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  username: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true },\r\n  userRole: { type: String, enum: ['Manufacturer', 'Transporter'], required: true }\r\n});\r\n\r\n\r\n\r\nconst User = mongoose.model('User', userSchema);\r\n\r\nmodule.exports = User;"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAMG,UAAU,GAAG,IAAIJ,QAAQ,CAACK,MAAM,CAAC;EACrCC,QAAQ,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC;EACxDC,QAAQ,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CG,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEK,IAAI,EAAE,CAAC,cAAc,EAAE,aAAa,CAAC;IAAEJ,QAAQ,EAAE;EAAK;AAClF,CAAC,CAAC;AAIF,MAAMK,IAAI,GAAGd,QAAQ,CAACe,KAAK,CAAC,MAAM,EAAEX,UAAU,CAAC;AAE/CY,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1691665951425},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\authRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst express = require('express');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst passport = require('passport');\nconst User = require('../models/User');\nconst router = express.Router();\n\n// Register a new user\nrouter.post('/register', async (req, res) => {\n  try {\n    const {\n      username,\n      password,\n      userRole\n    } = req.body;\n\n    // Check if the user already exists\n    const existingUser = await User.findOne({\n      username\n    });\n    if (existingUser) {\n      return res.status(400).json({\n        message: 'Username already exists'\n      });\n    }\n    const hashedPassword = await bcrypt.hash(password, 10);\n    const user = new User({\n      username,\n      password: hashedPassword,\n      userRole\n    });\n    await user.save();\n    res.status(201).json({\n      message: 'User registered successfully'\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Login\nrouter.post('/login', async (req, res) => {\n  try {\n    const {\n      username,\n      password,\n      userRole\n    } = req.body;\n    const user = await User.findOne({\n      username\n    });\n    if (!user) {\n      return res.status(401).json({\n        message: 'Invalid credentials'\n      });\n    }\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    const isUserRoleValid = await bcrypt.compare(userRole, user.userRole);\n    if (!isPasswordValid && !isUserRoleValid) {\n      return res.status(401).json({\n        message: 'Invalid credentials'\n      });\n    }\n    const token = jwt.sign({\n      userId: user._id,\n      userRole: user.userRole\n    }, 'ChatApp', {\n      expiresIn: '30d'\n    });\n    res.status(200).json({\n      token\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'An error occurred'\n    });\n  }\n});\nrouter.get('/', passport.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  try {\n    const keyword = req.query.search ? {\n      $or: [{\n        username: {\n          $regex: req.query.search,\n          $options: \"i\"\n        }\n      }]\n    } : {};\n    const users = await User.find(_objectSpread(_objectSpread({}, keyword), {}, {\n      _id: {\n        $ne: req.user._id\n      }\n    }));\n    res.send(users);\n  } catch (error) {\n    res.status(500).json({\n      message: 'An error occurred'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsInBhc3Nwb3J0IiwiVXNlciIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidXNlclJvbGUiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwidXNlciIsInNhdmUiLCJlcnJvciIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpc1VzZXJSb2xlVmFsaWQiLCJ0b2tlbiIsInNpZ24iLCJ1c2VySWQiLCJfaWQiLCJleHBpcmVzSW4iLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIiwia2V5d29yZCIsInF1ZXJ5Iiwic2VhcmNoIiwiJG9yIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJ1c2VycyIsImZpbmQiLCJfb2JqZWN0U3ByZWFkIiwiJG5lIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbImF1dGhSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0ICBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XHJcblxyXG5cclxuY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7IFxyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG4vLyBSZWdpc3RlciBhIG5ldyB1c2VyXHJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQsIHVzZXJSb2xlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWUgfSk7XHJcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VybmFtZSBhbHJlYWR5IGV4aXN0cycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHsgdXNlcm5hbWUsIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCwgdXNlclJvbGUgfSk7XHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjplcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBMb2dpblxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VyUm9sZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcbiAgICBjb25zdCBpc1VzZXJSb2xlVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZSh1c2VyUm9sZSwgdXNlci51c2VyUm9sZSk7XHJcbiAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCAmJiAhaXNVc2VyUm9sZVZhbGlkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VyLl9pZCwgdXNlclJvbGU6IHVzZXIudXNlclJvbGUgfSwgJ0NoYXRBcHAnLCB7IGV4cGlyZXNJbjogJzMwZCcgfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuIH0pO1xyXG5cclxuIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCcgfSk7XHJcbiAgfX0pO1xyXG5cclxuXHJcbnJvdXRlci5nZXQoJy8nLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwge3Nlc3Npb246IGZhbHNlfSkgLGFzeW5jIChyZXEscmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaFxyXG4gICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IHVzZXJuYW1lOiB7ICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaCwgJG9wdGlvbnM6IFwiaVwiIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgLi4ua2V5d29yZCxcclxuICAgICAgICAgICAgICAgIF9pZDogeyAkbmU6IHJlcS51c2VyLl9pZCB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXMuc2VuZCh1c2Vycyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnQW4gZXJyb3Igb2NjdXJyZWQnIH0pO1xyXG59fSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU9HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUdyQyxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUd0QyxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxRQUFRO01BQUVDLFFBQVE7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTs7SUFFakQ7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","map":{"version":3,"names":["express","require","bcrypt","jwt","passport","User","router","Router","post","req","res","username","password","userRole","body","existingUser","findOne","status","json","message","hashedPassword","hash","user","save","error","isPasswordValid","compare","isUserRoleValid","token","sign","userId","_id","expiresIn","get","authenticate","session","keyword","query","search","$or","$regex","$options","users","find","_objectSpread","$ne","send","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\routes\\","sources":["authRoutes.js"],"sourcesContent":["const express = require('express');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst  passport = require('passport');\r\n\r\n\r\nconst User = require('../models/User'); \r\n\r\n\r\nconst router = express.Router();\r\n\r\n// Register a new user\r\nrouter.post('/register', async (req, res) => {\r\n  try {\r\n    const { username, password, userRole } = req.body;\r\n\r\n    // Check if the user already exists\r\n    const existingUser = await User.findOne({ username });\r\n    if (existingUser) {\r\n      return res.status(400).json({ message: 'Username already exists' });\r\n    }\r\n\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n    const user = new User({ username, password: hashedPassword, userRole });\r\n    await user.save();\r\n\r\n    res.status(201).json({ message: 'User registered successfully' });\r\n  } catch (error) {\r\n    res.status(500).json({ error:error.message });\r\n  }\r\n});\r\n\r\n// Login\r\nrouter.post('/login', async (req, res) => {\r\n  try {\r\n    const { username, password, userRole } = req.body;\r\n\r\n    const user = await User.findOne({ username });\r\n    if (!user) {\r\n      return res.status(401).json({ message: 'Invalid credentials' });\r\n    }\r\n\r\n    const isPasswordValid = await bcrypt.compare(password, user.password);\r\n    const isUserRoleValid = await bcrypt.compare(userRole, user.userRole);\r\n    if (!isPasswordValid && !isUserRoleValid) {\r\n      return res.status(401).json({ message: 'Invalid credentials' });\r\n    }\r\n\r\n    const token = jwt.sign({ userId: user._id, userRole: user.userRole }, 'ChatApp', { expiresIn: '30d' });\r\n    res.status(200).json({ token });\r\n\r\n \r\n  } catch (error) {\r\n    res.status(500).json({ message: 'An error occurred' });\r\n  }});\r\n\r\n\r\nrouter.get('/', passport.authenticate(\"jwt\", {session: false}) ,async (req,res) => {\r\n    try {\r\n            const keyword = req.query.search\r\n              ? {\r\n                  $or: [\r\n                    { username: { $regex: req.query.search, $options: \"i\" } },\r\n                    \r\n                  ],\r\n                }\r\n              : {};\r\n          \r\n              const users = await User.find({\r\n                ...keyword,\r\n                _id: { $ne: req.user._id }\r\n              });\r\n                      res.send(users);\r\n          }\r\n     catch (error) {\r\n        res.status(500).json({ message: 'An error occurred' });\r\n}});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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"}},"mtime":1691667754248},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\routes\\\\chatRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nconst express = require('express');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst passport = require('passport');\nconst Chat = require(\"../models/Chat\");\nconst User = require('../models/User');\nconst router = express.Router();\nrouter.post(\"/\", passport.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  const {\n    userId\n  } = req.body;\n  if (!userId) {\n    console.log(\"UserId param not sent with request\");\n    return res.sendStatus(400);\n  }\n  var isChat = await Chat.find({\n    isGroupChat: false,\n    $and: [{\n      users: {\n        $elemMatch: {\n          $eq: req.user._id\n        }\n      }\n    }, {\n      users: {\n        $elemMatch: {\n          $eq: userId\n        }\n      }\n    }]\n  }).populate(\"users\", \"-password\").populate(\"latestMessage\");\n  isChat = await User.populate(isChat, {\n    path: \"latestMessage.sender\",\n    select: \"name\"\n  });\n  if (isChat.length > 0) {\n    res.send(isChat[0]);\n  } else {\n    var chatData = {\n      chatName: \"sender\",\n      isGroupChat: false,\n      users: [req.user._id, userId]\n    };\n    try {\n      const createdChat = await Chat.create(chatData);\n      const FullChat = await Chat.findOne({\n        _id: createdChat._id\n      }).populate(\"users\", \"-password\");\n      res.status(200).json(FullChat);\n    } catch (error) {\n      res.status(400);\n      throw new Error(error.message);\n    }\n  }\n});\nrouter.get(\"/\", passport.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  try {\n    Chat.find({\n      users: {\n        $elemMatch: {\n          $eq: req.user._id\n        }\n      }\n    }).populate(\"users\", \"-password\").populate(\"groupAdmin\", \"-password\").populate(\"latestMessage\").sort({\n      updatedAt: -1\n    }).then(async results => {\n      results = await User.populate(results, {\n        path: \"latestMessage.sender\",\n        select: \"name\"\n      });\n      res.status(200).send(results);\n    });\n  } catch (error) {\n    res.status(400);\n    throw new Error(error.message);\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsInBhc3Nwb3J0IiwiQ2hhdCIsIlVzZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiYXV0aGVudGljYXRlIiwic2Vzc2lvbiIsInJlcSIsInJlcyIsInVzZXJJZCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwic2VuZFN0YXR1cyIsImlzQ2hhdCIsImZpbmQiLCJpc0dyb3VwQ2hhdCIsIiRhbmQiLCJ1c2VycyIsIiRlbGVtTWF0Y2giLCIkZXEiLCJ1c2VyIiwiX2lkIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwibGVuZ3RoIiwic2VuZCIsImNoYXREYXRhIiwiY2hhdE5hbWUiLCJjcmVhdGVkQ2hhdCIsImNyZWF0ZSIsIkZ1bGxDaGF0IiwiZmluZE9uZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImdldCIsInNvcnQiLCJ1cGRhdGVkQXQiLCJ0aGVuIiwicmVzdWx0cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbImNoYXRSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0ICBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XHJcblxyXG5cclxuXHJcbmNvbnN0IENoYXQgPSByZXF1aXJlKFwiLi4vbW9kZWxzL0NoYXRcIik7XHJcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL1wiICAsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZShcImp3dFwiLCB7c2Vzc2lvbjogZmFsc2V9KSAsIGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBcclxuICAgICAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIFxyXG4gICAgICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJJZCBwYXJhbSBub3Qgc2VudCB3aXRoIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgIHZhciBpc0NoYXQgPSBhd2FpdCBDaGF0LmZpbmQoe1xyXG4gICAgICAgICAgaXNHcm91cENoYXQ6IGZhbHNlLFxyXG4gICAgICAgICAgJGFuZDogW1xyXG4gICAgICAgICAgICB7IHVzZXJzOiB7ICRlbGVtTWF0Y2g6IHsgJGVxOiByZXEudXNlci5faWQgfSB9IH0sXHJcbiAgICAgICAgICAgIHsgdXNlcnM6IHsgJGVsZW1NYXRjaDogeyAkZXE6IHVzZXJJZCB9IH0gfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5wb3B1bGF0ZShcInVzZXJzXCIsIFwiLXBhc3N3b3JkXCIpXHJcbiAgICAgICAgICAucG9wdWxhdGUoXCJsYXRlc3RNZXNzYWdlXCIpO1xyXG4gICAgICBcclxuICAgICAgICBpc0NoYXQgPSBhd2FpdCBVc2VyLnBvcHVsYXRlKGlzQ2hhdCwge1xyXG4gICAgICAgICAgcGF0aDogXCJsYXRlc3RNZXNzYWdlLnNlbmRlclwiLFxyXG4gICAgICAgICAgc2VsZWN0OiBcIm5hbWVcIixcclxuICAgICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgICAgaWYgKGlzQ2hhdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZXMuc2VuZChpc0NoYXRbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY2hhdERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNoYXROYW1lOiBcInNlbmRlclwiLFxyXG4gICAgICAgICAgICBpc0dyb3VwQ2hhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHVzZXJzOiBbcmVxLnVzZXIuX2lkLCB1c2VySWRdLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkQ2hhdCA9IGF3YWl0IENoYXQuY3JlYXRlKGNoYXREYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgRnVsbENoYXQgPSBhd2FpdCBDaGF0LmZpbmRPbmUoeyBfaWQ6IGNyZWF0ZWRDaGF0Ll9pZCB9KS5wb3B1bGF0ZShcclxuICAgICAgICAgICAgICBcInVzZXJzXCIsXHJcbiAgICAgICAgICAgICAgXCItcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihGdWxsQ2hhdCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcblxyXG5cclxucm91dGVyLmdldChcIi9cIiAgLCAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiand0XCIsIHtzZXNzaW9uOiBmYWxzZX0pLGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBDaGF0LmZpbmQoeyB1c2VyczogeyAkZWxlbU1hdGNoOiB7ICRlcTogcmVxLnVzZXIuX2lkIH0gfSB9KVxyXG4gICAgICAgICAgLnBvcHVsYXRlKFwidXNlcnNcIiwgXCItcGFzc3dvcmRcIilcclxuICAgICAgICAgIC5wb3B1bGF0ZShcImdyb3VwQWRtaW5cIiwgXCItcGFzc3dvcmRcIilcclxuICAgICAgICAgIC5wb3B1bGF0ZShcImxhdGVzdE1lc3NhZ2VcIilcclxuICAgICAgICAgIC5zb3J0KHsgdXBkYXRlZEF0OiAtMSB9KVxyXG4gICAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3VsdHMpID0+IHtcclxuICAgICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IFVzZXIucG9wdWxhdGUocmVzdWx0cywge1xyXG4gICAgICAgICAgICAgIHBhdGg6IFwibGF0ZXN0TWVzc2FnZS5zZW5kZXJcIixcclxuICAgICAgICAgICAgICBzZWxlY3Q6IFwibmFtZVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzdWx0cyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFPRyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFJckMsTUFBTUksSUFBSSxHQUFHSixPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDdEMsTUFBTUssSUFBSSxHQUFHTCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFFdEMsTUFBTU0sTUFBTSxHQUFHUCxPQUFPLENBQUNRLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLElBQUksQ0FBQyxHQUFHLEVBQUlMLFFBQVEsQ0FBQ00sWUFBWSxD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","map":{"version":3,"names":["express","require","bcrypt","jwt","passport","Chat","User","router","Router","post","authenticate","session","req","res","userId","body","console","log","sendStatus","isChat","find","isGroupChat","$and","users","$elemMatch","$eq","user","_id","populate","path","select","length","send","chatData","chatName","createdChat","create","FullChat","findOne","status","json","error","Error","message","get","sort","updatedAt","then","results","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\routes\\","sources":["chatRoutes.js"],"sourcesContent":["const express = require('express');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst  passport = require('passport');\r\n\r\n\r\n\r\nconst Chat = require(\"../models/Chat\");\r\nconst User = require('../models/User');\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/\"  , passport.authenticate(\"jwt\", {session: false}) , async(req, res) => {\r\n    \r\n        const { userId } = req.body;\r\n      \r\n        if (!userId) {\r\n          console.log(\"UserId param not sent with request\");\r\n          return res.sendStatus(400);\r\n        }\r\n      \r\n        var isChat = await Chat.find({\r\n          isGroupChat: false,\r\n          $and: [\r\n            { users: { $elemMatch: { $eq: req.user._id } } },\r\n            { users: { $elemMatch: { $eq: userId } } },\r\n          ],\r\n        })\r\n          .populate(\"users\", \"-password\")\r\n          .populate(\"latestMessage\");\r\n      \r\n        isChat = await User.populate(isChat, {\r\n          path: \"latestMessage.sender\",\r\n          select: \"name\",\r\n        });\r\n      \r\n        if (isChat.length > 0) {\r\n          res.send(isChat[0]);\r\n        } else {\r\n          var chatData = {\r\n            chatName: \"sender\",\r\n            isGroupChat: false,\r\n            users: [req.user._id, userId],\r\n          };\r\n      \r\n          try {\r\n            const createdChat = await Chat.create(chatData);\r\n            const FullChat = await Chat.findOne({ _id: createdChat._id }).populate(\r\n              \"users\",\r\n              \"-password\"\r\n            );\r\n            res.status(200).json(FullChat);\r\n          } catch (error) {\r\n            res.status(400);\r\n            throw new Error(error.message);\r\n          }\r\n        }\r\n      });\r\n    \r\n\r\n\r\nrouter.get(\"/\"  ,  passport.authenticate(\"jwt\", {session: false}),async(req, res) => {\r\n\r\n    try {\r\n        Chat.find({ users: { $elemMatch: { $eq: req.user._id } } })\r\n          .populate(\"users\", \"-password\")\r\n          .populate(\"groupAdmin\", \"-password\")\r\n          .populate(\"latestMessage\")\r\n          .sort({ updatedAt: -1 })\r\n          .then(async (results) => {\r\n            results = await User.populate(results, {\r\n              path: \"latestMessage.sender\",\r\n              select: \"name\",\r\n            });\r\n            res.status(200).send(results);\r\n          });\r\n      } catch (error) {\r\n        res.status(400);\r\n        throw new Error(error.message);\r\n      }\r\n    });\r\n\r\n\r\nmodule.exports = router;"],"mappings":"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"}},"mtime":1691671364030},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"filename\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\\\\backend\\\\models\\\\Chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\shive\\\\ChatApp\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.22.10:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst chatModel = mongoose.Schema({\n  chatName: {\n    type: String,\n    trim: true\n  },\n  isGroupChat: {\n    type: Boolean,\n    default: false\n  },\n  users: [{\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  }],\n  latestMessage: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"Messages\"\n  },\n  groupAdmin: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  }\n}, {\n  timestamps: true\n});\nconst Chat = mongoose.model(\"Chat\", chatModel);\nmodule.exports = Chat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjaGF0TW9kZWwiLCJTY2hlbWEiLCJjaGF0TmFtZSIsInR5cGUiLCJTdHJpbmciLCJ0cmltIiwiaXNHcm91cENoYXQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInVzZXJzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImxhdGVzdE1lc3NhZ2UiLCJncm91cEFkbWluIiwidGltZXN0YW1wcyIsIkNoYXQiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcc2hpdmVcXENoYXRBcHBcXHNlcnZlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcblxyXG5jb25zdCBjaGF0TW9kZWwgPSBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgY2hhdE5hbWU6IHsgdHlwZTogU3RyaW5nLCB0cmltOiB0cnVlIH0sXHJcbiAgICBpc0dyb3VwQ2hhdDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgdXNlcnM6IFt7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlVzZXJcIiB9XSxcclxuICAgIGxhdGVzdE1lc3NhZ2U6IHtcclxuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6IFwiTWVzc2FnZXNcIixcclxuICAgIH0sXHJcbiAgICBncm91cEFkbWluOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlVzZXJcIiB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmNvbnN0IENoYXQgPSBtb25nb29zZS5tb2RlbChcIkNoYXRcIiwgY2hhdE1vZGVsKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ2hhdDsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLFNBQVMsR0FBR0YsUUFBUSxDQUFDRyxNQUFNLENBQy9CO0VBQ0VDLFFBQVEsRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsSUFBSSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsV0FBVyxFQUFFO0lBQUVILElBQUksRUFBRUksT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlDQyxLQUFLLEVBQUUsQ0FBQztJQUFFTixJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDUyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU8sQ0FBQyxDQUFDO0VBQzlEQyxhQUFhLEVBQUU7SUFDYlYsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDUCxDQUFDO0VBQ0RFLFVBQVUsRUFBRTtJQUFFWCxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDUyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU87QUFDbEUsQ0FBQyxFQUNEO0VBQUVHLFVBQVUsRUFBRTtBQUFLLENBQ3JCLENBQUM7QUFFRCxNQUFNQyxJQUFJLEdBQUdsQixRQUFRLENBQUNtQixLQUFLLENBQUMsTUFBTSxFQUFFakIsU0FBUyxDQUFDO0FBRTlDa0IsTUFBTSxDQUFDQyxPQUFPLEdBQUdILElBQUkifQ==","map":{"version":3,"names":["mongoose","require","chatModel","Schema","chatName","type","String","trim","isGroupChat","Boolean","default","users","Types","ObjectId","ref","latestMessage","groupAdmin","timestamps","Chat","model","module","exports"],"sourceRoot":"C:\\Users\\shive\\ChatApp\\server\\backend\\models\\","sources":["Chat.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\r\n\r\nconst chatModel = mongoose.Schema(\r\n  {\r\n    chatName: { type: String, trim: true },\r\n    isGroupChat: { type: Boolean, default: false },\r\n    users: [{ type: mongoose.Schema.Types.ObjectId, ref: \"User\" }],\r\n    latestMessage: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: \"Messages\",\r\n    },\r\n    groupAdmin: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst Chat = mongoose.model(\"Chat\", chatModel);\r\n\r\nmodule.exports = Chat;"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,SAAS,GAAGF,QAAQ,CAACG,MAAM,CAC/B;EACEC,QAAQ,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC;EACtCC,WAAW,EAAE;IAAEH,IAAI,EAAEI,OAAO;IAAEC,OAAO,EAAE;EAAM,CAAC;EAC9CC,KAAK,EAAE,CAAC;IAAEN,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO,CAAC,CAAC;EAC9DC,aAAa,EAAE;IACbV,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACP,CAAC;EACDE,UAAU,EAAE;IAAEX,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACS,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO;AAClE,CAAC,EACD;EAAEG,UAAU,EAAE;AAAK,CACrB,CAAC;AAED,MAAMC,IAAI,GAAGlB,QAAQ,CAACmB,KAAK,CAAC,MAAM,EAAEjB,SAAS,CAAC;AAE9CkB,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1691616489164}}